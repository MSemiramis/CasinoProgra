"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var chai_1 = require("chai");
var utils_1 = require("../../utils");
describe("EventContainer", function () {
    it("should support subscribing", function () {
        var firedCount = 0;
        var container = new utils_1.EventContainer();
        container.subscribe(function () { return firedCount++; });
        container.fire(undefined);
        chai_1.expect(firedCount).to.equal(1);
    });
    it("should pass in the arg when firing", function () {
        var capturedArg = "";
        var container = new utils_1.EventContainer();
        container.subscribe(function (arg) { return capturedArg = arg; });
        container.fire("test");
        chai_1.expect(capturedArg).to.equal("test");
    });
    it("should only fire the subscription once if subscribed multiple times with the same subscription", function () {
        var firedCount = 0;
        var subscription = function () { return firedCount++; };
        var container = new utils_1.EventContainer();
        container.subscribe(subscription);
        container.subscribe(subscription);
        container.fire(undefined);
        chai_1.expect(firedCount).to.equal(1);
    });
    it("should support unsubscribing", function () {
        var firedCount = 0;
        var subscription = function () { return firedCount++; };
        var container = new utils_1.EventContainer();
        container.subscribe(subscription);
        container.unsubscribe(subscription);
        container.fire(undefined);
        chai_1.expect(firedCount).to.equal(0);
    });
});
